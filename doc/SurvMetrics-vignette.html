<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />

<meta name="viewport" content="width=device-width, initial-scale=1" />

<meta name="author" content="Zhou Hanpu" />


<title>Predictive Evaluation Metrics in Survival Analysis</title>

<script src="data:application/javascript;base64,Ly8gUGFuZG9jIDIuOSBhZGRzIGF0dHJpYnV0ZXMgb24gYm90aCBoZWFkZXIgYW5kIGRpdi4gV2UgcmVtb3ZlIHRoZSBmb3JtZXIgKHRvCi8vIGJlIGNvbXBhdGlibGUgd2l0aCB0aGUgYmVoYXZpb3Igb2YgUGFuZG9jIDwgMi44KS4KZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIGZ1bmN0aW9uKGUpIHsKICB2YXIgaHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCJkaXYuc2VjdGlvbltjbGFzcyo9J2xldmVsJ10gPiA6Zmlyc3QtY2hpbGQiKTsKICB2YXIgaSwgaCwgYTsKICBmb3IgKGkgPSAwOyBpIDwgaHMubGVuZ3RoOyBpKyspIHsKICAgIGggPSBoc1tpXTsKICAgIGlmICghL15oWzEtNl0kL2kudGVzdChoLnRhZ05hbWUpKSBjb250aW51ZTsgIC8vIGl0IHNob3VsZCBiZSBhIGhlYWRlciBoMS1oNgogICAgYSA9IGguYXR0cmlidXRlczsKICAgIHdoaWxlIChhLmxlbmd0aCA+IDApIGgucmVtb3ZlQXR0cmlidXRlKGFbMF0ubmFtZSk7CiAgfQp9KTsK"></script>

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>


<style type="text/css">
  code {
    white-space: pre;
  }
  .sourceCode {
    overflow: visible;
  }
</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */

</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    for (var j = 0; j < rules.length; j++) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") continue;
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') continue;
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>



<style type="text/css">
/* for pandoc --citeproc since 2.11 */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="data:text/css,body%20%7B%0Abackground%2Dcolor%3A%20%23fff%3B%0Amargin%3A%201em%20auto%3B%0Amax%2Dwidth%3A%20700px%3B%0Aoverflow%3A%20visible%3B%0Apadding%2Dleft%3A%202em%3B%0Apadding%2Dright%3A%202em%3B%0Afont%2Dfamily%3A%20%22Open%20Sans%22%2C%20%22Helvetica%20Neue%22%2C%20Helvetica%2C%20Arial%2C%20sans%2Dserif%3B%0Afont%2Dsize%3A%2014px%3B%0Aline%2Dheight%3A%201%2E35%3B%0A%7D%0A%23TOC%20%7B%0Aclear%3A%20both%3B%0Amargin%3A%200%200%2010px%2010px%3B%0Apadding%3A%204px%3B%0Awidth%3A%20400px%3B%0Aborder%3A%201px%20solid%20%23CCCCCC%3B%0Aborder%2Dradius%3A%205px%3B%0Abackground%2Dcolor%3A%20%23f6f6f6%3B%0Afont%2Dsize%3A%2013px%3B%0Aline%2Dheight%3A%201%2E3%3B%0A%7D%0A%23TOC%20%2Etoctitle%20%7B%0Afont%2Dweight%3A%20bold%3B%0Afont%2Dsize%3A%2015px%3B%0Amargin%2Dleft%3A%205px%3B%0A%7D%0A%23TOC%20ul%20%7B%0Apadding%2Dleft%3A%2040px%3B%0Amargin%2Dleft%3A%20%2D1%2E5em%3B%0Amargin%2Dtop%3A%205px%3B%0Amargin%2Dbottom%3A%205px%3B%0A%7D%0A%23TOC%20ul%20ul%20%7B%0Amargin%2Dleft%3A%20%2D2em%3B%0A%7D%0A%23TOC%20li%20%7B%0Aline%2Dheight%3A%2016px%3B%0A%7D%0Atable%20%7B%0Amargin%3A%201em%20auto%3B%0Aborder%2Dwidth%3A%201px%3B%0Aborder%2Dcolor%3A%20%23DDDDDD%3B%0Aborder%2Dstyle%3A%20outset%3B%0Aborder%2Dcollapse%3A%20collapse%3B%0A%7D%0Atable%20th%20%7B%0Aborder%2Dwidth%3A%202px%3B%0Apadding%3A%205px%3B%0Aborder%2Dstyle%3A%20inset%3B%0A%7D%0Atable%20td%20%7B%0Aborder%2Dwidth%3A%201px%3B%0Aborder%2Dstyle%3A%20inset%3B%0Aline%2Dheight%3A%2018px%3B%0Apadding%3A%205px%205px%3B%0A%7D%0Atable%2C%20table%20th%2C%20table%20td%20%7B%0Aborder%2Dleft%2Dstyle%3A%20none%3B%0Aborder%2Dright%2Dstyle%3A%20none%3B%0A%7D%0Atable%20thead%2C%20table%20tr%2Eeven%20%7B%0Abackground%2Dcolor%3A%20%23f7f7f7%3B%0A%7D%0Ap%20%7B%0Amargin%3A%200%2E5em%200%3B%0A%7D%0Ablockquote%20%7B%0Abackground%2Dcolor%3A%20%23f6f6f6%3B%0Apadding%3A%200%2E25em%200%2E75em%3B%0A%7D%0Ahr%20%7B%0Aborder%2Dstyle%3A%20solid%3B%0Aborder%3A%20none%3B%0Aborder%2Dtop%3A%201px%20solid%20%23777%3B%0Amargin%3A%2028px%200%3B%0A%7D%0Adl%20%7B%0Amargin%2Dleft%3A%200%3B%0A%7D%0Adl%20dd%20%7B%0Amargin%2Dbottom%3A%2013px%3B%0Amargin%2Dleft%3A%2013px%3B%0A%7D%0Adl%20dt%20%7B%0Afont%2Dweight%3A%20bold%3B%0A%7D%0Aul%20%7B%0Amargin%2Dtop%3A%200%3B%0A%7D%0Aul%20li%20%7B%0Alist%2Dstyle%3A%20circle%20outside%3B%0A%7D%0Aul%20ul%20%7B%0Amargin%2Dbottom%3A%200%3B%0A%7D%0Apre%2C%20code%20%7B%0Abackground%2Dcolor%3A%20%23f7f7f7%3B%0Aborder%2Dradius%3A%203px%3B%0Acolor%3A%20%23333%3B%0Awhite%2Dspace%3A%20pre%2Dwrap%3B%20%0A%7D%0Apre%20%7B%0Aborder%2Dradius%3A%203px%3B%0Amargin%3A%205px%200px%2010px%200px%3B%0Apadding%3A%2010px%3B%0A%7D%0Apre%3Anot%28%5Bclass%5D%29%20%7B%0Abackground%2Dcolor%3A%20%23f7f7f7%3B%0A%7D%0Acode%20%7B%0Afont%2Dfamily%3A%20Consolas%2C%20Monaco%2C%20%27Courier%20New%27%2C%20monospace%3B%0Afont%2Dsize%3A%2085%25%3B%0A%7D%0Ap%20%3E%20code%2C%20li%20%3E%20code%20%7B%0Apadding%3A%202px%200px%3B%0A%7D%0Adiv%2Efigure%20%7B%0Atext%2Dalign%3A%20center%3B%0A%7D%0Aimg%20%7B%0Abackground%2Dcolor%3A%20%23FFFFFF%3B%0Apadding%3A%202px%3B%0Aborder%3A%201px%20solid%20%23DDDDDD%3B%0Aborder%2Dradius%3A%203px%3B%0Aborder%3A%201px%20solid%20%23CCCCCC%3B%0Amargin%3A%200%205px%3B%0A%7D%0Ah1%20%7B%0Amargin%2Dtop%3A%200%3B%0Afont%2Dsize%3A%2035px%3B%0Aline%2Dheight%3A%2040px%3B%0A%7D%0Ah2%20%7B%0Aborder%2Dbottom%3A%204px%20solid%20%23f7f7f7%3B%0Apadding%2Dtop%3A%2010px%3B%0Apadding%2Dbottom%3A%202px%3B%0Afont%2Dsize%3A%20145%25%3B%0A%7D%0Ah3%20%7B%0Aborder%2Dbottom%3A%202px%20solid%20%23f7f7f7%3B%0Apadding%2Dtop%3A%2010px%3B%0Afont%2Dsize%3A%20120%25%3B%0A%7D%0Ah4%20%7B%0Aborder%2Dbottom%3A%201px%20solid%20%23f7f7f7%3B%0Amargin%2Dleft%3A%208px%3B%0Afont%2Dsize%3A%20105%25%3B%0A%7D%0Ah5%2C%20h6%20%7B%0Aborder%2Dbottom%3A%201px%20solid%20%23ccc%3B%0Afont%2Dsize%3A%20105%25%3B%0A%7D%0Aa%20%7B%0Acolor%3A%20%230033dd%3B%0Atext%2Ddecoration%3A%20none%3B%0A%7D%0Aa%3Ahover%20%7B%0Acolor%3A%20%236666ff%3B%20%7D%0Aa%3Avisited%20%7B%0Acolor%3A%20%23800080%3B%20%7D%0Aa%3Avisited%3Ahover%20%7B%0Acolor%3A%20%23BB00BB%3B%20%7D%0Aa%5Bhref%5E%3D%22http%3A%22%5D%20%7B%0Atext%2Ddecoration%3A%20underline%3B%20%7D%0Aa%5Bhref%5E%3D%22https%3A%22%5D%20%7B%0Atext%2Ddecoration%3A%20underline%3B%20%7D%0A%0Acode%20%3E%20span%2Ekw%20%7B%20color%3A%20%23555%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%0Acode%20%3E%20span%2Edt%20%7B%20color%3A%20%23902000%3B%20%7D%20%0Acode%20%3E%20span%2Edv%20%7B%20color%3A%20%2340a070%3B%20%7D%20%0Acode%20%3E%20span%2Ebn%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Efl%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Ech%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Est%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Eco%20%7B%20color%3A%20%23888888%3B%20font%2Dstyle%3A%20italic%3B%20%7D%20%0Acode%20%3E%20span%2Eot%20%7B%20color%3A%20%23007020%3B%20%7D%20%0Acode%20%3E%20span%2Eal%20%7B%20color%3A%20%23ff0000%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%0Acode%20%3E%20span%2Efu%20%7B%20color%3A%20%23900%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%0Acode%20%3E%20span%2Eer%20%7B%20color%3A%20%23a61717%3B%20background%2Dcolor%3A%20%23e3d2d2%3B%20%7D%20%0A" type="text/css" />




</head>

<body>




<h1 class="title toc-ignore">Predictive Evaluation Metrics in Survival Analysis</h1>
<h4 class="author">Zhou Hanpu</h4>
<h4 class="date">2021/7/26</h4>



<div id="vignette" class="section level1">
<h1>Vignette</h1>
<div id="introduction" class="section level2">
<h2>1. Introduction</h2>
<p>Survival analysis aims to study the relationship between independent covariates and survival time and event outcomes. With the increasing demand for accuracy in practical applications, survival models are constantly being developed and improved. Meanwhile, how to measure the prediction performance of survival models has also attracted more and more attention (<span class="citation">[4]</span>). The censoring problem of survival data is the main reason why survival models are difficult to evaluate (<span class="citation">[8]</span>; <span class="citation">[11]</span>). In this package, we want to provide an “all-in-one” package which includes most of the evaluation metrics for survival predictions.</p>
<p>In the following, we will show how these model evaluation metrics work based on some simulated datasets and the popular Cox and random survival forest (RSF) models.</p>
</div>
<div id="data" class="section level2">
<h2>2. Data</h2>
<p>The four simulated survival data scenarios used here have different degrees of violation of the proportional hazard assumption and are constructed as follows:</p>
<p>Dataset 1: Data is created using 300 independent observations, where the covariate vector <span class="math inline">\(( W_1, . . . ,W_{25} )\)</span> is multivariate normal with mean zero and a covariance matrix having elements <span class="math inline">\((i, j)\)</span> equal to <span class="math inline">\(0.9^{|i−j|}\)</span>. Survival times are simulated from an exponential distribution with mean <span class="math inline">\(\mu = e^{0.1 \sum_{i=11}^{20}} W_i\)</span> (i.e., a proportional hazards model) and the censoring distribution is exponential with mean chosen to get approximately 30% censoring.</p>
<p>Dataset 2: Data is created using 200 independent observations where the covariate vector (<span class="math inline">\(W_1, . . . ,W_{25}\)</span>) consists of 25 iid uniform random variables on the interval [0, 1]. The survival times follow an exponential distribution with mean <span class="math inline">\(μ = sin(W_1\pi) + 2|W_2 − 0.5| + W_3^3\)</span>. Censoring is uniform on [0, 6], which results in approximately 24% censoring. Here, the proportional hazards assumption is mildly violated.</p>
<p>Dataset 3: Data is created using 300 independent observations where the covariates (<span class="math inline">\(W_1, . . . ,W_{25}\)</span>) are multivariate normal with mean zero and a covariance matrix having elements <span class="math inline">\((i, j)\)</span> equal to <span class="math inline">\(0.75^{|i−j|}\)</span>. Survival times are gamma distributed with shape parameter <span class="math inline">\(\mu=0.5+0.3|\sum_{i=11}^{15} W_i|\)</span> and scale parameter 2. Censoring times are uniform on [0, 15], which results in approximately 20% censoring. Here, the proportional hazards assumption is strongly violated.</p>
<p>Dataset 4: Data is created using 300 independent observations where the covariates <span class="math inline">\((W_1, . . . ,W_{25})\)</span> are multivariate normal with mean zero and a covariance matrix having elements <span class="math inline">\((i, j)\)</span> equal to <span class="math inline">\(0.75^{|i−j|}\)</span>. Survival times are simulated according to a log-normal distribution with mean <span class="math inline">\(\mu = 0.1|\sum_{i=1}^5 W_i| + 0.1|\sum_{i=21}^{25}W_i|\)</span>. Censoring times are log-normal with mean <span class="math inline">\(\mu + 0.5\)</span> and scale parameter one, and the censoring rate is approximately 32%. Here, the underlying censoring distribution depends on covariates.</p>
</div>
<div id="predictive-evaluation-metrics-in-survival-analysis" class="section level2">
<h2>3. Predictive Evaluation Metrics in Survival Analysis</h2>
<div id="concordance-index" class="section level3">
<h3>3.1 Concordance index</h3>
<p>The most used survival model evaluation metrics is the Concordance index (CI) (<span class="citation">[5]</span>; <span class="citation">[9]</span>; <span class="citation">[13]</span>; <span class="citation">[12]</span>; <span class="citation">[2]</span>), which is the generalization of the ROC curve in the complete data in the survival data (<span class="citation">[4]</span>; <span class="citation">[14]</span>; <span class="citation">[10]</span>; <span class="citation">[13]</span>). CI can be divided into two categories according to whether considering the data tied.</p>
<p>In practical applications, deaths may be observed in both samples (<span class="math inline">\(\delta_i=1\)</span> and <span class="math inline">\(\delta_j=1\)</span>) in the sample pair, and the observed survival times are the same (<span class="math inline">\(T_i=X_i=X_j=T_j\)</span>). In this case, when the survival probabilities or survival times predicted by the model are also equal(<span class="math inline">\(Y_i=Y_j\)</span>), the model has a perfect predictive ability. However, without considering ties between survival times, this kind of sample pair cannot improve CI for the original CI definition.</p>
<p>To deal with this problem, Ishwaran introduced an improved CI calculation method for the tied survival data (<span class="citation">[7]</span>). According to their definition, if the prediction result is survival time or survival probability, the smaller the prediction result, the worse it is; if the prediction result is the hazard function, the larger the value, the worse the prediction result. Detailed information on how to calculate CI are shown below:</p>
<ul>
<li>First define the comparable sample pair:</li>
</ul>
<p><span class="math display">\[np_{ij}\left(X_{i}, \delta_{i}, X_{j}, \delta_{j}\right) = max(I\left(X_{i} \geqslant X_{j}\right) \delta_{j},I\left(X_{i} \leqslant X_{j}\right) \delta_{i}) \]</span></p>
<ul>
<li>In the second step, calculate the Complete Concordance (CC):</li>
</ul>
<p><span class="math display">\[ CC = \sum_{i,j}I(sign(Y_i,Y_j)=csign(X_i,X_j)|np_{ij}=1) \]</span> where:</p>
<p><span class="math display">\[sign(Y_i,Y_j) = I\left(Y_{i} \geqslant Y_{j}\right) -I\left(Y_{i} \leqslant Y_{j}\right)\]</span> <span class="math display">\[\operatorname{csign}\left(X_{i}, \delta_{i}, X_{j}, \delta_{j}\right)=I\left(X_{i} \geqslant X_{j}\right) \delta_{j}-I\left(X_{i} \leqslant X_{j}\right) \delta_{i}\]</span></p>
<ul>
<li>Then, derive the Partial Concordance (PC):</li>
</ul>
<p><span class="math display">\[\begin{aligned}
PC &amp; =\sum_{i, j} I\left(Y_{i}=Y_{j} \mid n p_{i j}=1, X_{i} \neq X_{j}\right)\\
&amp;+I\left(Y_{i} \neq Y_{j} \mid n p_{i j}=1, X_{i}=X_{j}, \delta_{i}=\delta_{j}=1\right) \\
&amp;+ I\left(Y_{i} \geq Y_{j} \mid n p_{i j}=1, X_{i}=X_{j}, \delta_{i}=1, \delta_{j}=0\right)
\end{aligned}\]</span></p>
<ul>
<li>Finally, CI can be calculated as:</li>
</ul>
<p><span class="math display">\[CI =\frac{Concordance}{Permissible} = \frac{CC+0.5*PC}{\sum_{i,j}np_{ij}(X_i,\delta_i,X_j,\delta_j)} \]</span></p>
<p>where, <span class="math inline">\(\delta_i\)</span> is the survival status of sample <span class="math inline">\(i\)</span> (0 means censoring, 1 means event), <span class="math inline">\(Y_i\)</span> and <span class="math inline">\(X_i\)</span> represents the predicted survival time and the observed survival time, respectively.</p>
</div>
<div id="example-on-ci" class="section level3">
<h3>3.2 Example on CI</h3>
<p>Take simulation data set 4 as an example. First, we randomly divide the data into training set and test set. Then, using Cox and RSF models, we can get the corresponding CI values.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(SurvMetrics)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(caret)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(randomForestSRC)</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(survival)  </span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(pec)</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="co">#Initialization</span></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>metrics_cox <span class="ot">=</span> <span class="dv">0</span></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>metrics_rsf <span class="ot">=</span> <span class="dv">0</span></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">20</span>) {</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a>  mydata <span class="ot">=</span> <span class="fu">SDGM4</span>(<span class="at">N =</span> <span class="dv">200</span>, <span class="at">p =</span> <span class="dv">20</span>, <span class="at">c_step =</span> <span class="fl">0.5</span>)</span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a>  index_data <span class="ot">=</span> <span class="fu">createFolds</span>(<span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(mydata), <span class="dv">2</span>)</span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a>  train_data <span class="ot">=</span> mydata[index_data[[<span class="dv">1</span>]],]</span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a>  test_data <span class="ot">=</span> mydata[index_data[[<span class="dv">2</span>]],]</span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a>  <span class="co">#fit the models</span></span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a>  fitrsf <span class="ot">=</span> <span class="fu">rfsrc</span>(<span class="fu">Surv</span>(time, status)<span class="sc">~</span>., <span class="at">data =</span> train_data, <span class="at">nsplit =</span> <span class="dv">3</span>, <span class="at">ntree =</span> <span class="dv">500</span>)</span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a>  mat_rsf <span class="ot">=</span> <span class="fu">predict</span>(fitrsf, test_data)<span class="sc">$</span>survival</span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb1-22"><a href="#cb1-22" aria-hidden="true" tabindex="-1"></a>  dis_time <span class="ot">=</span> fitrsf<span class="sc">$</span>time.interest</span>
<span id="cb1-23"><a href="#cb1-23" aria-hidden="true" tabindex="-1"></a>  fitcox <span class="ot">=</span> <span class="fu">coxph</span>(<span class="fu">Surv</span>(time, status)<span class="sc">~</span>., <span class="at">data =</span> train_data, <span class="at">x =</span> <span class="cn">TRUE</span>)</span>
<span id="cb1-24"><a href="#cb1-24" aria-hidden="true" tabindex="-1"></a>  mat_cox <span class="ot">=</span> <span class="fu">predictSurvProb</span>(fitcox, test_data, dis_time)</span>
<span id="cb1-25"><a href="#cb1-25" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb1-26"><a href="#cb1-26" aria-hidden="true" tabindex="-1"></a>  <span class="co">#calculate the C index</span></span>
<span id="cb1-27"><a href="#cb1-27" aria-hidden="true" tabindex="-1"></a>  med_index <span class="ot">=</span> <span class="fu">median</span>(<span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(dis_time))</span>
<span id="cb1-28"><a href="#cb1-28" aria-hidden="true" tabindex="-1"></a>  surv_obj <span class="ot">=</span> <span class="fu">Surv</span>(test_data<span class="sc">$</span>time, test_data<span class="sc">$</span>status)</span>
<span id="cb1-29"><a href="#cb1-29" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb1-30"><a href="#cb1-30" aria-hidden="true" tabindex="-1"></a>  <span class="co">#C index for Cox</span></span>
<span id="cb1-31"><a href="#cb1-31" aria-hidden="true" tabindex="-1"></a>  metrics_cox[i] <span class="ot">=</span> <span class="fu">Cindex</span>(surv_obj, <span class="at">predicted =</span> mat_cox[, med_index])</span>
<span id="cb1-32"><a href="#cb1-32" aria-hidden="true" tabindex="-1"></a>  <span class="co">#C index for RSF</span></span>
<span id="cb1-33"><a href="#cb1-33" aria-hidden="true" tabindex="-1"></a>  metrics_rsf[i] <span class="ot">=</span> <span class="fu">Cindex</span>(surv_obj, <span class="at">predicted =</span> mat_rsf[, med_index])</span>
<span id="cb1-34"><a href="#cb1-34" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb1-35"><a href="#cb1-35" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb1-36"><a href="#cb1-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-37"><a href="#cb1-37" aria-hidden="true" tabindex="-1"></a>data_CI <span class="ot">=</span> <span class="fu">data.frame</span>(<span class="st">&#39;Cindex&#39;</span> <span class="ot">=</span> <span class="fu">c</span>(metrics_cox, metrics_rsf),</span>
<span id="cb1-38"><a href="#cb1-38" aria-hidden="true" tabindex="-1"></a>                     <span class="st">&#39;model&#39;</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="fu">rep</span>(<span class="st">&#39;Cox&#39;</span>, <span class="dv">20</span>), <span class="fu">rep</span>(<span class="st">&#39;RSF&#39;</span>, <span class="dv">20</span>)))</span>
<span id="cb1-39"><a href="#cb1-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-40"><a href="#cb1-40" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(data_CI, <span class="fu">aes</span>(<span class="at">x =</span> model, <span class="at">y =</span> Cindex, <span class="at">fill =</span> model)) <span class="sc">+</span></span>
<span id="cb1-41"><a href="#cb1-41" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>() <span class="sc">+</span></span>
<span id="cb1-42"><a href="#cb1-42" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">&quot;#FFBBCC&quot;</span>, <span class="st">&quot;#88CCFF&quot;</span>))</span></code></pre></div>
<p><img src="data:image/png;base64,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" style="display: block; margin: auto;" /></p>
<p>The larger the C index, the better the model prediction. It can be seen that the performance of RSF is better than Cox, which is also consistent with the data generation method.</p>
</div>
<div id="brier-score" class="section level3">
<h3>3.3 Brier Score</h3>
<p>In survival analysis, we usually use the prediction error curve (PEC) to evaluate the prediction performance of the survival model at different time points. When there is no censored sample in the test set, PEC corresponding to sample <span class="math inline">\(i\)</span> at time <span class="math inline">\(t\)</span> is the expected value of the square of the difference between the true survival state of sample <span class="math inline">\(i\)</span> at time <span class="math inline">\(t\)</span> and the predicted survival probability.</p>
<p><span class="math display">\[PEC(t)=E\left(\hat{S}(t|z_i)-\delta_i(t)\right)^2\]</span></p>
<p>Where <span class="math inline">\(\hat{S}(t|z_i)\)</span> is the survival function obtained by the model, which is used to estimate the survival probability of sample <span class="math inline">\(i\)</span> at time <span class="math inline">\(t\)</span>; <span class="math inline">\(\delta_i(t)\)</span> is a binary variable used to represent the true survival state of sample <span class="math inline">\(i\)</span> at time <span class="math inline">\(t\)</span>: 1 means that the sample is dead, 0 means that the sample is still alive at time <span class="math inline">\(t\)</span>.</p>
<p>Based on the ideas of PEC and Brier’s (<span class="citation">[1]</span>) prediction index for the weather forecast model, Graf (<span class="citation">[3]</span>) proposed another common evaluation metric in survival analysis: Brier Score (BS). The prediction error at the time point was improved by inverse probability censoring weighting (IPCW) to evaluate the prediction performance of the survival model. BS at point <span class="math inline">\(t^*\)</span> can be expressed as:</p>
<p><span class="math display">\[BS(t^*)=\frac{1}{N}\sum_{i=1}^N\left[\frac{(\hat{S}(t^*|z_i))^2}{\hat{G}(X_i)}\cdot I(X_i&lt;t^*,\delta_i=1)+\frac{(1-\hat{S}(t^*|z_i))^2}{\hat{G}(t^*)}\cdot I(X_i\ge t^*)\right]\]</span></p>
<p>Where <span class="math inline">\(t^*\)</span> is the time point at which BS is to be calculated; <span class="math inline">\(N\)</span> is the sample size; <span class="math inline">\(Z_i\)</span> is the covariate corresponding to sample <span class="math inline">\(i\)</span>; <span class="math inline">\(\hat{S}(\cdot)\)</span> is the survival function predicted by the model; <span class="math inline">\(\hat{G}(\cdot)\)</span> is the survival function corresponding to censoring.</p>
<p>From the definition of BS, it can be found that BS is essentially a square prediction error based on IPCW, so the smaller BS, the better the prediction effect of the survival model.</p>
<p>At the same time, we found that BS depends on the selection of time point <span class="math inline">\(t^*\)</span>. Generally, the median of the observation time is selected as the time point. However, in practice, different selection methods may also have large differences in the evaluation of the model’s prediction effect.</p>
</div>
<div id="example-on-brier-score" class="section level3">
<h3>3.4 Example on Brier Score</h3>
<p>Again, take simulation data set 4 as an example. First, we randomly divide the data into training set and test set. Then, using Cox and RSF models, we get the corresponding Brier Scores.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Initialization</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>metrics_cox <span class="ot">=</span> <span class="dv">0</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>metrics_rsf <span class="ot">=</span> <span class="dv">0</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">20</span>) {</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>  mydata <span class="ot">=</span> <span class="fu">SDGM4</span>(<span class="at">N =</span> <span class="dv">200</span>, <span class="at">p =</span> <span class="dv">20</span>, <span class="at">c_step =</span> <span class="fl">0.5</span>)</span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>  index_data <span class="ot">=</span> <span class="fu">createFolds</span>(<span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(mydata), <span class="dv">2</span>)</span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>  train_data <span class="ot">=</span> mydata[index_data[[<span class="dv">1</span>]],]</span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>  test_data <span class="ot">=</span> mydata[index_data[[<span class="dv">2</span>]],]</span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>  <span class="co">#fit the models</span></span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a>  fitrsf <span class="ot">=</span> <span class="fu">rfsrc</span>(<span class="fu">Surv</span>(time, status)<span class="sc">~</span>., <span class="at">data =</span> train_data, <span class="at">nsplit =</span> <span class="dv">3</span>, <span class="at">ntree =</span> <span class="dv">500</span>)</span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a>  mat_rsf <span class="ot">=</span> <span class="fu">predict</span>(fitrsf, test_data)<span class="sc">$</span>survival</span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a>  dis_time <span class="ot">=</span> fitrsf<span class="sc">$</span>time.interest</span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a>  fitcox <span class="ot">=</span> <span class="fu">coxph</span>(<span class="fu">Surv</span>(time, status)<span class="sc">~</span>., <span class="at">data =</span> train_data, <span class="at">x =</span> <span class="cn">TRUE</span>)</span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a>  mat_cox <span class="ot">=</span> <span class="fu">predictSurvProb</span>(fitcox, test_data, dis_time)</span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb2-19"><a href="#cb2-19" aria-hidden="true" tabindex="-1"></a>  <span class="co">#calculate the C index</span></span>
<span id="cb2-20"><a href="#cb2-20" aria-hidden="true" tabindex="-1"></a>  med_index <span class="ot">=</span> <span class="fu">median</span>(<span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(dis_time))</span>
<span id="cb2-21"><a href="#cb2-21" aria-hidden="true" tabindex="-1"></a>  surv_obj <span class="ot">=</span> <span class="fu">Surv</span>(test_data<span class="sc">$</span>time, test_data<span class="sc">$</span>status)</span>
<span id="cb2-22"><a href="#cb2-22" aria-hidden="true" tabindex="-1"></a>  t_star <span class="ot">=</span> <span class="fu">median</span>(fitrsf<span class="sc">$</span>time.interest)</span>
<span id="cb2-23"><a href="#cb2-23" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb2-24"><a href="#cb2-24" aria-hidden="true" tabindex="-1"></a>  <span class="co">#Brier Score for Cox</span></span>
<span id="cb2-25"><a href="#cb2-25" aria-hidden="true" tabindex="-1"></a>  metrics_cox[i] <span class="ot">=</span> <span class="fu">Brier</span>(surv_obj, <span class="at">pre_sp =</span> mat_cox[, med_index], t_star)</span>
<span id="cb2-26"><a href="#cb2-26" aria-hidden="true" tabindex="-1"></a>  <span class="co">#Brier Score for RSF</span></span>
<span id="cb2-27"><a href="#cb2-27" aria-hidden="true" tabindex="-1"></a>  metrics_rsf[i] <span class="ot">=</span> <span class="fu">Brier</span>(surv_obj, <span class="at">pre_sp =</span> mat_rsf[, med_index], t_star)</span>
<span id="cb2-28"><a href="#cb2-28" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb2-29"><a href="#cb2-29" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb2-30"><a href="#cb2-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-31"><a href="#cb2-31" aria-hidden="true" tabindex="-1"></a>data_BS <span class="ot">=</span> <span class="fu">data.frame</span>(<span class="st">&#39;BS&#39;</span> <span class="ot">=</span> <span class="fu">c</span>(metrics_cox, metrics_rsf),</span>
<span id="cb2-32"><a href="#cb2-32" aria-hidden="true" tabindex="-1"></a>                     <span class="st">&#39;model&#39;</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="fu">rep</span>(<span class="st">&#39;Cox&#39;</span>, <span class="dv">20</span>), <span class="fu">rep</span>(<span class="st">&#39;RSF&#39;</span>, <span class="dv">20</span>)))</span>
<span id="cb2-33"><a href="#cb2-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-34"><a href="#cb2-34" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(data_BS, <span class="fu">aes</span>(<span class="at">x =</span> model, <span class="at">y =</span> BS, <span class="at">fill =</span> model)) <span class="sc">+</span></span>
<span id="cb2-35"><a href="#cb2-35" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>() <span class="sc">+</span></span>
<span id="cb2-36"><a href="#cb2-36" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">&quot;#FFBBCC&quot;</span>, <span class="st">&quot;#88CCFF&quot;</span>))</span></code></pre></div>
<p><img src="data:image/png;base64,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" style="display: block; margin: auto;" /></p>
<p>The smaller the BS, the better the model prediction. From the figure, it can be seen that the performance of RSF is better than Cox, which is also consistent with the data generation method SDGM4.</p>
</div>
<div id="ibs-integrated-brier-score" class="section level3">
<h3>3.5 IBS (Integrated Brier Score)</h3>
<p>In practice, IBS, the integral form of Brier Score, is often preferred in that IBS value does not depend on the selection of a single time point.</p>
<p><span class="math display">\[IBS=\frac{1}{\max\limits_i{(X_i)}} \int_0^{\max\limits_i(X_i)}BS(t)dt \]</span></p>
<p>At the same time, one of the reasons why BS and IBS are not as widely used as CI is that the existing packages for input objects in the BS calculation method in R are not clear, which leads to the prediction results of many survival models that cannot be directly used to calculate the value of BS or IBS.</p>
</div>
<div id="example-on-ibs" class="section level3">
<h3>3.6 Example on IBS</h3>
<p>Also, we take simulation data set 4 as an example. First, we randomly divide the data into training set and test set. Then, using Cox and RSF models, we get the corresponding IBS values:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Initialization</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>metrics_cox <span class="ot">=</span> <span class="dv">0</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>metrics_rsf <span class="ot">=</span> <span class="dv">0</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">20</span>) {</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>  mydata <span class="ot">=</span> <span class="fu">SDGM4</span>(<span class="at">N =</span> <span class="dv">100</span>, <span class="at">p =</span> <span class="dv">20</span>, <span class="at">c_step =</span> <span class="fl">0.5</span>)</span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>  index_data <span class="ot">=</span> <span class="fu">createFolds</span>(<span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(mydata), <span class="dv">2</span>)</span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>  train_data <span class="ot">=</span> mydata[index_data[[<span class="dv">1</span>]],]</span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>  test_data <span class="ot">=</span> mydata[index_data[[<span class="dv">2</span>]],]</span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>  <span class="co">#fit the models</span></span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a>  fitrsf <span class="ot">=</span> <span class="fu">rfsrc</span>(<span class="fu">Surv</span>(time, status)<span class="sc">~</span>., <span class="at">data =</span> train_data, <span class="at">nsplit =</span> <span class="dv">3</span>, <span class="at">ntree =</span> <span class="dv">500</span>)</span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a>  mat_rsf <span class="ot">=</span> <span class="fu">predict</span>(fitrsf, test_data)<span class="sc">$</span>survival</span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a>  dis_time <span class="ot">=</span> fitrsf<span class="sc">$</span>time.interest</span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a>  fitcox <span class="ot">=</span> <span class="fu">coxph</span>(<span class="fu">Surv</span>(time, status)<span class="sc">~</span>., <span class="at">data =</span> train_data, <span class="at">x =</span> <span class="cn">TRUE</span>)</span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a>  mat_cox <span class="ot">=</span> <span class="fu">predictSurvProb</span>(fitcox, test_data, dis_time)</span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb3-19"><a href="#cb3-19" aria-hidden="true" tabindex="-1"></a>  <span class="co">#calculate the C index</span></span>
<span id="cb3-20"><a href="#cb3-20" aria-hidden="true" tabindex="-1"></a>  med_index <span class="ot">=</span> <span class="fu">median</span>(<span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(dis_time))</span>
<span id="cb3-21"><a href="#cb3-21" aria-hidden="true" tabindex="-1"></a>  surv_obj <span class="ot">=</span> <span class="fu">Surv</span>(test_data<span class="sc">$</span>time, test_data<span class="sc">$</span>status)</span>
<span id="cb3-22"><a href="#cb3-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-23"><a href="#cb3-23" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb3-24"><a href="#cb3-24" aria-hidden="true" tabindex="-1"></a>  <span class="co">#IBS for Cox</span></span>
<span id="cb3-25"><a href="#cb3-25" aria-hidden="true" tabindex="-1"></a>  metrics_cox[i] <span class="ot">=</span> <span class="fu">IBS</span>(surv_obj, <span class="at">sp_matrix =</span> mat_cox, dis_time)</span>
<span id="cb3-26"><a href="#cb3-26" aria-hidden="true" tabindex="-1"></a>  <span class="co">#IBS for RSF</span></span>
<span id="cb3-27"><a href="#cb3-27" aria-hidden="true" tabindex="-1"></a>  metrics_rsf[i] <span class="ot">=</span> <span class="fu">IBS</span>(surv_obj, <span class="at">sp_matrix =</span> mat_rsf, dis_time)</span>
<span id="cb3-28"><a href="#cb3-28" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb3-29"><a href="#cb3-29" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb3-30"><a href="#cb3-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-31"><a href="#cb3-31" aria-hidden="true" tabindex="-1"></a>data_IBS <span class="ot">=</span> <span class="fu">data.frame</span>(<span class="st">&#39;IBS&#39;</span> <span class="ot">=</span> <span class="fu">c</span>(metrics_cox, metrics_rsf),</span>
<span id="cb3-32"><a href="#cb3-32" aria-hidden="true" tabindex="-1"></a>                     <span class="st">&#39;model&#39;</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="fu">rep</span>(<span class="st">&#39;Cox&#39;</span>, <span class="dv">20</span>), <span class="fu">rep</span>(<span class="st">&#39;RSF&#39;</span>, <span class="dv">20</span>)))</span>
<span id="cb3-33"><a href="#cb3-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-34"><a href="#cb3-34" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(data_IBS, <span class="fu">aes</span>(<span class="at">x =</span> model, <span class="at">y =</span> IBS, <span class="at">fill =</span> model)) <span class="sc">+</span></span>
<span id="cb3-35"><a href="#cb3-35" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>() <span class="sc">+</span></span>
<span id="cb3-36"><a href="#cb3-36" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">&quot;#FFBBCC&quot;</span>, <span class="st">&quot;#88CCFF&quot;</span>))</span></code></pre></div>
<p><img src="data:image/png;base64,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" style="display: block; margin: auto;" /></p>
<p>The smaller the IBS, the better the model prediction. From the figure, it can be seen that the performance of RSF is better than Cox, which is also consistent with the data generation method SDGM4.</p>
</div>
<div id="iaeise" class="section level3">
<h3>3.7 IAE、ISE</h3>
<p>Two additional evaluation metrics for survival models used are IAE (Integrated Absolute Error) and ISE (Integrated Square Error). (<span class="citation">[6]</span>; <span class="citation">[17]</span>;).</p>
<p><span class="math display">\[IAE=\int_{t}|S(t)-\hat{S}(t)| d t  \]</span> <span class="math display">\[ ISE =\int_{t}(S(t)-\hat{S}(t))^{2} d t \]</span></p>
<p>where, <span class="math inline">\(S(t)\)</span> and <span class="math inline">\(\hat{S}(t)\)</span> represent the true survival function and the predicted survival function, respectively. However, in practical applications, the mathematical expression of the survival function is usually unknown, which results in that the existing IAE and ISE can only be used in simulation experiments. In the SurvMetrics package, the non-parametric KM estimation method is used to obtain the approximate expression of <span class="math inline">\(S(t)\)</span>, and an evaluation standard for the prediction effect of the model is given, which also extends the scope of application of IAE and ISE to the situation of real data sets.</p>
</div>
<div id="example-on-iae-and-ise" class="section level3">
<h3>3.8 Example on IAE and ISE</h3>
<p>Also, we take simulation data set 4 as an example. First, we randomly divide the data into training set and test set. Then, using Cox and RSF models, we get the corresponding IAE and ISE values:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Initialization</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>metrics_cox_IAE <span class="ot">=</span> <span class="dv">0</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>metrics_rsf_IAE <span class="ot">=</span> <span class="dv">0</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>metrics_cox_ISE <span class="ot">=</span> <span class="dv">0</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>metrics_rsf_ISE <span class="ot">=</span> <span class="dv">0</span></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">20</span>) {</span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>  mydata <span class="ot">=</span> <span class="fu">SDGM4</span>(<span class="at">N =</span> <span class="dv">100</span>, <span class="at">p =</span> <span class="dv">20</span>, <span class="at">c_step =</span> <span class="fl">0.5</span>)</span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>  index_data <span class="ot">=</span> <span class="fu">createFolds</span>(<span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(mydata), <span class="dv">2</span>)</span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a>  train_data <span class="ot">=</span> mydata[index_data[[<span class="dv">1</span>]],]</span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a>  test_data <span class="ot">=</span> mydata[index_data[[<span class="dv">2</span>]],]</span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a>  <span class="co">#fit the models</span></span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a>  fitrsf <span class="ot">=</span> <span class="fu">rfsrc</span>(<span class="fu">Surv</span>(time, status)<span class="sc">~</span>., <span class="at">data =</span> train_data, <span class="at">nsplit =</span> <span class="dv">3</span>, <span class="at">ntree =</span> <span class="dv">500</span>)</span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a>  mat_rsf <span class="ot">=</span> <span class="fu">predict</span>(fitrsf, test_data)<span class="sc">$</span>survival</span>
<span id="cb4-16"><a href="#cb4-16" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb4-17"><a href="#cb4-17" aria-hidden="true" tabindex="-1"></a>  dis_time <span class="ot">=</span> fitrsf<span class="sc">$</span>time.interest</span>
<span id="cb4-18"><a href="#cb4-18" aria-hidden="true" tabindex="-1"></a>  fitcox <span class="ot">=</span> <span class="fu">coxph</span>(<span class="fu">Surv</span>(time, status)<span class="sc">~</span>., <span class="at">data =</span> train_data, <span class="at">x =</span> <span class="cn">TRUE</span>)</span>
<span id="cb4-19"><a href="#cb4-19" aria-hidden="true" tabindex="-1"></a>  mat_cox <span class="ot">=</span> <span class="fu">predictSurvProb</span>(fitcox, test_data, dis_time)</span>
<span id="cb4-20"><a href="#cb4-20" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb4-21"><a href="#cb4-21" aria-hidden="true" tabindex="-1"></a>  <span class="co">#calculate the C index</span></span>
<span id="cb4-22"><a href="#cb4-22" aria-hidden="true" tabindex="-1"></a>  med_index <span class="ot">=</span> <span class="fu">median</span>(<span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(dis_time))</span>
<span id="cb4-23"><a href="#cb4-23" aria-hidden="true" tabindex="-1"></a>  surv_obj <span class="ot">=</span> <span class="fu">Surv</span>(test_data<span class="sc">$</span>time, test_data<span class="sc">$</span>status)</span>
<span id="cb4-24"><a href="#cb4-24" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb4-25"><a href="#cb4-25" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb4-26"><a href="#cb4-26" aria-hidden="true" tabindex="-1"></a>  <span class="co">#C index for Cox</span></span>
<span id="cb4-27"><a href="#cb4-27" aria-hidden="true" tabindex="-1"></a>  temp1 <span class="ot">=</span> <span class="fu">IAEISE</span>(surv_obj, <span class="at">sp_matrix =</span> mat_cox, dis_time)</span>
<span id="cb4-28"><a href="#cb4-28" aria-hidden="true" tabindex="-1"></a>  metrics_cox_IAE[i] <span class="ot">=</span> temp1[<span class="dv">1</span>]</span>
<span id="cb4-29"><a href="#cb4-29" aria-hidden="true" tabindex="-1"></a>  metrics_cox_ISE[i] <span class="ot">=</span> temp1[<span class="dv">2</span>]</span>
<span id="cb4-30"><a href="#cb4-30" aria-hidden="true" tabindex="-1"></a>  <span class="co">#C index for RSF</span></span>
<span id="cb4-31"><a href="#cb4-31" aria-hidden="true" tabindex="-1"></a>  temp2 <span class="ot">=</span> <span class="fu">IAEISE</span>(surv_obj, <span class="at">sp_matrix =</span> mat_rsf, dis_time)</span>
<span id="cb4-32"><a href="#cb4-32" aria-hidden="true" tabindex="-1"></a>  metrics_rsf_IAE[i] <span class="ot">=</span> temp2[<span class="dv">1</span>]</span>
<span id="cb4-33"><a href="#cb4-33" aria-hidden="true" tabindex="-1"></a>  metrics_rsf_ISE[i] <span class="ot">=</span> temp2[<span class="dv">2</span>]</span>
<span id="cb4-34"><a href="#cb4-34" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb4-35"><a href="#cb4-35" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb4-36"><a href="#cb4-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-37"><a href="#cb4-37" aria-hidden="true" tabindex="-1"></a>data_IAE <span class="ot">=</span> <span class="fu">data.frame</span>(<span class="st">&#39;IAE&#39;</span> <span class="ot">=</span> <span class="fu">c</span>(metrics_cox_IAE, metrics_rsf_IAE),</span>
<span id="cb4-38"><a href="#cb4-38" aria-hidden="true" tabindex="-1"></a>                     <span class="st">&#39;model&#39;</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="fu">rep</span>(<span class="st">&#39;Cox&#39;</span>, <span class="dv">20</span>), <span class="fu">rep</span>(<span class="st">&#39;RSF&#39;</span>, <span class="dv">20</span>)))</span>
<span id="cb4-39"><a href="#cb4-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-40"><a href="#cb4-40" aria-hidden="true" tabindex="-1"></a>data_ISE <span class="ot">=</span> <span class="fu">data.frame</span>(<span class="st">&#39;ISE&#39;</span> <span class="ot">=</span> <span class="fu">c</span>(metrics_cox_ISE, metrics_rsf_ISE),</span>
<span id="cb4-41"><a href="#cb4-41" aria-hidden="true" tabindex="-1"></a>                     <span class="st">&#39;model&#39;</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="fu">rep</span>(<span class="st">&#39;Cox&#39;</span>, <span class="dv">20</span>), <span class="fu">rep</span>(<span class="st">&#39;RSF&#39;</span>, <span class="dv">20</span>)))</span>
<span id="cb4-42"><a href="#cb4-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-43"><a href="#cb4-43" aria-hidden="true" tabindex="-1"></a>P1 <span class="ot">=</span> <span class="fu">ggplot</span>(data_IAE, <span class="fu">aes</span>(<span class="at">x =</span> model, <span class="at">y =</span> IAE, <span class="at">fill =</span> model)) <span class="sc">+</span></span>
<span id="cb4-44"><a href="#cb4-44" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>() <span class="sc">+</span></span>
<span id="cb4-45"><a href="#cb4-45" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">&quot;#FFBBCC&quot;</span>, <span class="st">&quot;#88CCFF&quot;</span>)) <span class="sc">+</span></span>
<span id="cb4-46"><a href="#cb4-46" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">&#39;none&#39;</span>)</span>
<span id="cb4-47"><a href="#cb4-47" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-48"><a href="#cb4-48" aria-hidden="true" tabindex="-1"></a>P2 <span class="ot">=</span> <span class="fu">ggplot</span>(data_ISE, <span class="fu">aes</span>(<span class="at">x =</span> model, <span class="at">y =</span> ISE, <span class="at">fill =</span> model)) <span class="sc">+</span></span>
<span id="cb4-49"><a href="#cb4-49" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>() <span class="sc">+</span></span>
<span id="cb4-50"><a href="#cb4-50" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">&quot;#FFBBCC&quot;</span>, <span class="st">&quot;#88CCFF&quot;</span>)) <span class="sc">+</span></span>
<span id="cb4-51"><a href="#cb4-51" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">&#39;none&#39;</span>)</span>
<span id="cb4-52"><a href="#cb4-52" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-53"><a href="#cb4-53" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggpubr)</span>
<span id="cb4-54"><a href="#cb4-54" aria-hidden="true" tabindex="-1"></a><span class="fu">ggarrange</span>(P1, P2, <span class="at">ncol =</span> <span class="dv">2</span>)</span></code></pre></div>
<p><img src="data:image/png;base64,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" style="display: block; margin: auto;" /></p>
<p>The smaller the IAE and ISE, the better the model prediction. From the figure, it can be seen that the performance of RSF is better than Cox both in IAE and ISE metrics, which is also consistent with the data generation method SDGM4.</p>
</div>
<div id="mae" class="section level3">
<h3>3.9 MAE</h3>
<p>The final evaluation metric of survival model presented here is MAE (Mean Absolute Error) (<span class="citation">[16]</span>).</p>
<p><span class="math display">\[MAE=\frac{1}{n} \sum_{i=1}^{N}\left(\delta_{i}\left|Y_{i}-{X}_{i}\right|\right)\]</span> where, <span class="math inline">\(N\)</span> is the observed sample size, and <span class="math inline">\(n\)</span> is the death sample size. MAE only calculates the average absolute error between the predicted survival time and the true survival time in the uncensored sample, because it does not consider the information of the censored data and requires the model to output survival time, while the general model can only output the survival probability or cumulative risk, so MAE is rarely used in practice.</p>
</div>
</div>
<div id="conclusion" class="section level2">
<h2>4. Conclusion</h2>
<p>In this vignette, we present the survival model evaluation metrics and give examples of how these calculation methods work. In the current version of SurvMetrics, six survival model evaluation metrics are present. We are working to provide a more user-friendly interface and facilitate both statistical and non-statistical clinical research workers in evaluating survival models.</p>
</div>
<div id="reference" class="section level2 unnumbered">
<h2 class="unnumbered">Reference</h2>
<div id="refs" class="references csl-bib-body">
<div id="ref-Brier.1950" class="csl-entry">
<div class="csl-left-margin">[1] </div><div class="csl-right-inline">G. W. Brier. 1950. VERIFICATION OF FORECASTS EXPRESSED IN TERMS OF PROBABILITY. <em>Monthly Weather Review</em> 78, (1950).</div>
</div>
<div id="ref-Devlin.2021" class="csl-entry">
<div class="csl-left-margin">[2] </div><div class="csl-right-inline">Sean M Devlin and Glenn Heller. 2021. Concordance probability as a meaningful contrast across disparate survival times. <em>Statistical methods in medical research</em> 30, 3 (2021), 816–825.</div>
</div>
<div id="ref-Graf.1999" class="csl-entry">
<div class="csl-left-margin">[3] </div><div class="csl-right-inline">E. Graf, C. Schmoor, W. Sauerbrei, and M. Schumacher. 1999. Assessment and comparison of prognostic classification schemes for survival data. <em>Statistics in Medicine</em> 18, 17-18 (1999), 2529–2545.</div>
</div>
<div id="ref-HEaGerty.2005" class="csl-entry">
<div class="csl-left-margin">[4] </div><div class="csl-right-inline">H Ea Gerty P. J. and Y. Zheng. 2005. Survival model predictive accuracy and ROC curves. <em>Biometrics</em> 61, 1 (2005), 92–105.</div>
</div>
<div id="ref-Harrell.1982" class="csl-entry">
<div class="csl-left-margin">[5] </div><div class="csl-right-inline">F. E. Jun Harrell, R. M. Califf, D. B. Pryor, K. L. Lee, and R. A. Rosati. 1982. Evaluating the yield of medical tests. <em>JAMA The Journal of the American Medical Association</em> 247, 18 (1982), 2543–2546.</div>
</div>
<div id="ref-Hoora.2017" class="csl-entry">
<div class="csl-left-margin">[6] </div><div class="csl-right-inline">HooraMoradian, DenisLarocque, and FranoisBellavance. 2017. L1 splitting rules in survival forests. <em>Lifetime Data Analysis</em> 23, 4 (2017), 671–691.</div>
</div>
<div id="ref-Ishwaran.2008" class="csl-entry">
<div class="csl-left-margin">[7] </div><div class="csl-right-inline">H. Ishwaran. 2008. Random survival forest. <em>Ann. Appl. Statist</em> 2, (2008).</div>
</div>
<div id="ref-Ivanescu.2015" class="csl-entry">
<div class="csl-left-margin">[8] </div><div class="csl-right-inline">AE Ivanescu, Peng Li, B George, Andrew Brown, Scott Keith, Dheeraj Raju, and David Allison. 2015. The importance of prediction model validation and assessment in obesity and nutrition research. <em>International journal of obesity (2005)</em> 40, (October 2015).</div>
</div>
<div id="ref-Jing.2019" class="csl-entry">
<div class="csl-left-margin">[9] </div><div class="csl-right-inline">B. Jing, T. Zhang, Z. Wang, Y. Jin, and C. Li. 2019. A deep survival analysis method based on ranking. <em>Artificial intelligence in medicine</em> 98, (2019), 1–9.</div>
</div>
<div id="ref-Kang.2015" class="csl-entry">
<div class="csl-left-margin">[10] </div><div class="csl-right-inline">L. Kang, W. Chen, N. A. Petrick, and B. D. Gallas. 2015. Comparing two correlated c indices with right-censored survival outcome: A one-shot nonparametric approach. <em>Statistics in Medicine</em> 34, 4 (2015).</div>
</div>
<div id="ref-Klein.2010" class="csl-entry">
<div class="csl-left-margin">[11] </div><div class="csl-right-inline">J. P. Klein and M. L. Moeschberger. 2010. Survival analysis: Techniques for censored and truncated data. <em>Biometrics</em> 99, 467 (2010), 900–901.</div>
</div>
<div id="ref-Lee.2018" class="csl-entry">
<div class="csl-left-margin">[12] </div><div class="csl-right-inline">Changhee Lee, William Zame, Jinsung Yoon, and Mihaela van der Schaar. 2018. Deephit: A deep learning approach to survival analysis with competing risks. In <em>Proceedings of the AAAI conference on artificial intelligence</em>.</div>
</div>
<div id="ref-Li.2016" class="csl-entry">
<div class="csl-left-margin">[13] </div><div class="csl-right-inline">Yan Li, Jie Wang, Jieping Ye, and Chandan K Reddy. 2016. A multi-task learning formulation for survival analysis. In <em>Proceedings of the 22nd ACM SIGKDD international conference on knowledge discovery and data mining</em>, 1715–1724.</div>
</div>
<div id="ref-Obuchowski.2006" class="csl-entry">
<div class="csl-left-margin">[14] </div><div class="csl-right-inline">N. A. Obuchowski. 2006. An ROC-type measure of diagnostic accuracy when the gold standard is continuous-scale. <em>Statistics in Medicine</em> 25, 3 (2006), 481–493.</div>
</div>
<div id="ref-Schemper.1992" class="csl-entry">
<div class="csl-left-margin">[16] </div><div class="csl-right-inline">M. Schemper. 1992. The explained variation in proportional hazards regression. <em>Biometrika</em> 79, 1 (1992), 202–204.</div>
</div>
<div id="ref-Schemper.1992" class="csl-entry">
<div class="csl-left-margin">[16] </div><div class="csl-right-inline">M. Schemper. 1992. The explained variation in proportional hazards regression. <em>Biometrika</em> 79, 1 (1992), 202–204.</div>
</div>
<div id="ref-Zou.2021" class="csl-entry">
<div class="csl-left-margin">[17] </div><div class="csl-right-inline">Y. Zou, G. Fan, and R. Zhang. 2021. Integrated square error of hazard rate estimation for survival data with missing censoring indicators. <em>Journal of Systems Science and Complexity</em> 34, 2 (2021), 735–758.</div>
</div>
</div>
</div>
</div>



<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
